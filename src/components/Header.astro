---
import { Image } from "astro:assets";
import logo from "@assets/logo.jpg";
import xmark from "@assets/icons/xmark.svg";
import menu from "@assets/icons/menu.svg";
---

<header
  class="flex justify-between h-14 py-2 text-xl font-semibold border-b-2 border-sky-800"
>
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <a href="/" title="Home">
    <Image src={logo} width="200" height="45" alt="tuckerfritz.dev" />
  </a>
  <button
    type="button"
    aria-label="open primary navigation"
    class="nav-button sm:hidden"
  >
    <Image src={menu} alt="" height="25" width="25" />
  </button>
  <nav
    id="primary-navigation"
    aria-label="primary-navigation"
    class={[
      "sm:static",
      "sm:h-auto",
      "sm:w-auto",
      "sm:border-0",
      "sm:drop-shadow-none",
      "sm:block",
      "fixed",
      "right-0",
      "top-0",
      "h-full",
      "w-72",
      "z-50",
      "drop-shadow-2xl",
      "bg-white",
      "flex",
      "flex-row-reverse",
      "justify-between",
      "hidden",
    ].join(" ")}
  >
    <button
      type="button"
      aria-label="close menu"
      class="nav-button block sm:hidden h-fit pr-4 pt-4"
    >
      <Image src={xmark} alt="" height="25" width="25" />
    </button>
    <ul
      class="sm:flex sm:flex-row sm:gap-x-5 sm:p-0 flex flex-col gap-y-5 pt-4 pl-4"
    >
      <li>
        <a class="text-black hover:text-sky-800" href="/posts">Posts</a>
      </li>
      <li>
        <a class="text-black hover:text-sky-800" href="/tags">Tags</a>
      </li>
      <li class="pt-1.5">
        <a href="/search" aria-label="search">
          <svg
            aria-hidden="true"
            class="hover:fill-sky-800"
            xmlns="http://www.w3.org/2000/svg"
            height="20"
            width="20"
            viewBox="0 0 512 512"
          >
            <path
              d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 
            0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 
            1 0 0-288 144 144 0 1 0 0 288z"
            ></path>
          </svg>
        </a>
      </li>
    </ul>
  </nav>
</header>

<script>
  const buttons = document.getElementsByClassName("nav-button");
  for (let button of buttons) {
    button.addEventListener("click", () => {
      document.getElementById("primary-navigation")?.classList.toggle("hidden");
    });
  }
</script>
